{"version":3,"file":"index.js","sources":["../src/utils.ts","../src/Bifrost.ts","../node_modules/jotai/index.js","../src/useBifrost.tsx"],"sourcesContent":["const get = (obj, path, def) =>\n  (() =>\n    typeof path === 'string'\n      ? path.replace(/\\[(\\d+)]/g, '.$1')\n      : path.join('.'))()\n    .split('.')\n    .filter(Boolean)\n    .every((step) => (obj = obj[step]) !== undefined)\n    ? obj\n    : def\n\nexport { get }\n","import { RealmConfig } from './typings'\nimport { get } from './utils'\n\nclass Bifrost {\n  config: RealmConfig\n  bus: Element\n  realmList: string[]\n  language: string\n  locales: string[]\n  locale: string\n  state: any\n\n  constructor(config: RealmConfig) {\n    this.config = config\n    const { locales } = config\n    this.locales = Object.keys(locales)\n    this.bus = document.createElement('bifrost-bridge')\n    this.setLocale(this.locales[0])\n  }\n\n  setLocale(locale: string) {\n    if (this.config.locales[locale]) {\n      this.locale = locale\n    } else {\n      console.error('‚ùóBifrost Error‚ùó Locale not found üëâ', locale)\n      console.info('‚ö†Ô∏è Available locales üëâ', this.locales)\n    }\n  }\n\n  openRealm(name: string, { state, props }) {\n    this.dispatchEvent('bifrost-open', { detail: { name, state, props } })\n  }\n\n  updateRealm(name: string, { props }) {\n    this.dispatchEvent('bifrost-update', { detail: { name, props } })\n  }\n\n  closeRealm(name: string) {\n    this.dispatchEvent('bifrost-close', { detail: { name } })\n  }\n\n  /**\n   * Add an event listener.\n   */\n  addEventListener(event, callback) {\n    this.bus.addEventListener(event, callback)\n  }\n\n  /**\n   * Remove an event listener.\n   */\n  removeEventListener(event, callback) {\n    this.bus.removeEventListener(event, callback)\n  }\n\n  /**\n   * Dispatch an event.\n   */\n  dispatchEvent(event, ...args) {\n    this.bus.dispatchEvent(new CustomEvent(event, ...args))\n  }\n\n  translate(key: string, scene?: string): string {\n    if (scene) {\n      return this.config.locales[this.locale][scene][key]\n    } else {\n      return get(this.config.locales[this.locale], key, key)\n    }\n  }\n}\n\nexport default Bifrost\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar react = require('react');\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar SUSPENSE_PROMISE = Symbol();\nvar isSuspensePromise = function isSuspensePromise(promise) {\n  return !!promise[SUSPENSE_PROMISE];\n};\nvar isSuspensePromiseAlreadyCancelled = function isSuspensePromiseAlreadyCancelled(suspensePromise) {\n  return !suspensePromise[SUSPENSE_PROMISE].c;\n};\nvar cancelSuspensePromise = function cancelSuspensePromise(suspensePromise) {\n  var _suspensePromise$SUSP, _suspensePromise$SUSP2;\n\n  (_suspensePromise$SUSP = (_suspensePromise$SUSP2 = suspensePromise[SUSPENSE_PROMISE]).c) == null ? void 0 : _suspensePromise$SUSP.call(_suspensePromise$SUSP2);\n};\nvar isEqualSuspensePromise = function isEqualSuspensePromise(oldSuspensePromise, newSuspensePromise) {\n  var oldOriginalPromise = oldSuspensePromise[SUSPENSE_PROMISE].o;\n  var newOriginalPromise = newSuspensePromise[SUSPENSE_PROMISE].o;\n  return oldOriginalPromise === newOriginalPromise || oldSuspensePromise === newOriginalPromise || isSuspensePromise(oldOriginalPromise) && isEqualSuspensePromise(oldOriginalPromise, newSuspensePromise);\n};\nvar createSuspensePromise = function createSuspensePromise(promise) {\n  var objectToAttach = {\n    o: promise,\n    c: null\n  };\n  var suspensePromise = new Promise(function (resolve) {\n    objectToAttach.c = function () {\n      objectToAttach.c = null;\n      resolve();\n    };\n\n    promise.then(objectToAttach.c, objectToAttach.c);\n  });\n  suspensePromise[SUSPENSE_PROMISE] = objectToAttach;\n  return suspensePromise;\n};\n\nvar hasInitialValue = function hasInitialValue(atom) {\n  return 'init' in atom;\n};\n\nvar READ_ATOM = 'r';\nvar WRITE_ATOM = 'w';\nvar COMMIT_ATOM = 'c';\nvar SUBSCRIBE_ATOM = 's';\nvar RESTORE_ATOMS = 'h';\nvar DEV_SUBSCRIBE_STATE = 'n';\nvar DEV_GET_MOUNTED_ATOMS = 'l';\nvar DEV_GET_ATOM_STATE = 'a';\nvar DEV_GET_MOUNTED = 'm';\nvar createStore = function createStore(initialValues) {\n  var _ref4;\n\n  var committedAtomStateMap = new WeakMap();\n  var mountedMap = new WeakMap();\n  var pendingMap = new Map();\n  var stateListeners;\n  var mountedAtoms;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    stateListeners = new Set();\n    mountedAtoms = new Set();\n  }\n\n  if (initialValues) {\n    for (var _iterator = _createForOfIteratorHelperLoose(initialValues), _step; !(_step = _iterator()).done;) {\n      var _step$value = _step.value,\n          atom = _step$value[0],\n          value = _step$value[1];\n      var atomState = {\n        v: value,\n        r: 0,\n        d: new Map()\n      };\n\n      if (process.env.NODE_ENV !== \"production\") {\n        Object.freeze(atomState);\n\n        if (!hasInitialValue(atom)) {\n          console.warn('Found initial value for derived atom which can cause unexpected behavior', atom);\n        }\n      }\n\n      committedAtomStateMap.set(atom, atomState);\n    }\n  }\n\n  var suspensePromiseCacheMap = new WeakMap();\n\n  var addSuspensePromiseToCache = function addSuspensePromiseToCache(version, atom, suspensePromise) {\n    var cache = suspensePromiseCacheMap.get(atom);\n\n    if (!cache) {\n      cache = new Map();\n      suspensePromiseCacheMap.set(atom, cache);\n    }\n\n    suspensePromise.then(function () {\n      if (cache.get(version) === suspensePromise) {\n        cache.delete(version);\n\n        if (!cache.size) {\n          suspensePromiseCacheMap.delete(atom);\n        }\n      }\n    });\n    cache.set(version, suspensePromise);\n  };\n\n  var cancelAllSuspensePromiseInCache = function cancelAllSuspensePromiseInCache(atom) {\n    var versionSet = new Set();\n    var cache = suspensePromiseCacheMap.get(atom);\n\n    if (cache) {\n      suspensePromiseCacheMap.delete(atom);\n      cache.forEach(function (suspensePromise, version) {\n        cancelSuspensePromise(suspensePromise);\n        versionSet.add(version);\n      });\n    }\n\n    return versionSet;\n  };\n\n  var versionedAtomStateMapMap = new WeakMap();\n\n  var getVersionedAtomStateMap = function getVersionedAtomStateMap(version) {\n    var versionedAtomStateMap = versionedAtomStateMapMap.get(version);\n\n    if (!versionedAtomStateMap) {\n      versionedAtomStateMap = new Map();\n      versionedAtomStateMapMap.set(version, versionedAtomStateMap);\n    }\n\n    return versionedAtomStateMap;\n  };\n\n  var getAtomState = function getAtomState(version, atom) {\n    if (version) {\n      var versionedAtomStateMap = getVersionedAtomStateMap(version);\n\n      var _atomState = versionedAtomStateMap.get(atom);\n\n      if (!_atomState) {\n        _atomState = getAtomState(version.p, atom);\n\n        if (_atomState) {\n          if ('p' in _atomState) {\n            _atomState.p.then(function () {\n              return versionedAtomStateMap.delete(atom);\n            });\n          }\n\n          versionedAtomStateMap.set(atom, _atomState);\n        }\n      }\n\n      return _atomState;\n    }\n\n    return committedAtomStateMap.get(atom);\n  };\n\n  var setAtomState = function setAtomState(version, atom, atomState) {\n    if (process.env.NODE_ENV !== \"production\") {\n      Object.freeze(atomState);\n    }\n\n    if (version) {\n      var versionedAtomStateMap = getVersionedAtomStateMap(version);\n      versionedAtomStateMap.set(atom, atomState);\n    } else {\n      var prevAtomState = committedAtomStateMap.get(atom);\n      committedAtomStateMap.set(atom, atomState);\n\n      if (!pendingMap.has(atom)) {\n        pendingMap.set(atom, prevAtomState);\n      }\n    }\n  };\n\n  var createReadDependencies = function createReadDependencies(version, prevReadDependencies, dependencies) {\n    if (prevReadDependencies === void 0) {\n      prevReadDependencies = new Map();\n    }\n\n    if (!dependencies) {\n      return prevReadDependencies;\n    }\n\n    var readDependencies = new Map();\n    var changed = false;\n    dependencies.forEach(function (atom) {\n      var _getAtomState;\n\n      var revision = ((_getAtomState = getAtomState(version, atom)) == null ? void 0 : _getAtomState.r) || 0;\n      readDependencies.set(atom, revision);\n\n      if (prevReadDependencies.get(atom) !== revision) {\n        changed = true;\n      }\n    });\n\n    if (prevReadDependencies.size === readDependencies.size && !changed) {\n      return prevReadDependencies;\n    }\n\n    return readDependencies;\n  };\n\n  var setAtomValue = function setAtomValue(version, atom, value, dependencies, suspensePromise) {\n    var atomState = getAtomState(version, atom);\n\n    if (atomState) {\n      if (suspensePromise && (!('p' in atomState) || !isEqualSuspensePromise(atomState.p, suspensePromise))) {\n        return atomState;\n      }\n\n      if ('p' in atomState) {\n        cancelSuspensePromise(atomState.p);\n      }\n    }\n\n    var nextAtomState = {\n      v: value,\n      r: (atomState == null ? void 0 : atomState.r) || 0,\n      d: createReadDependencies(version, atomState == null ? void 0 : atomState.d, dependencies)\n    };\n\n    if (!atomState || !('v' in atomState) || !Object.is(atomState.v, value)) {\n      ++nextAtomState.r;\n\n      if (nextAtomState.d.has(atom)) {\n        nextAtomState.d = new Map(nextAtomState.d).set(atom, nextAtomState.r);\n      }\n    } else if (nextAtomState.d !== atomState.d && (nextAtomState.d.size !== atomState.d.size || !Array.from(nextAtomState.d.keys()).every(function (a) {\n      return atomState.d.has(a);\n    }))) {\n      Promise.resolve().then(function () {\n        flushPending(version);\n      });\n    }\n\n    setAtomState(version, atom, nextAtomState);\n    return nextAtomState;\n  };\n\n  var setAtomReadError = function setAtomReadError(version, atom, error, dependencies, suspensePromise) {\n    var atomState = getAtomState(version, atom);\n\n    if (atomState) {\n      if (suspensePromise && (!('p' in atomState) || !isEqualSuspensePromise(atomState.p, suspensePromise))) {\n        return atomState;\n      }\n\n      if ('p' in atomState) {\n        cancelSuspensePromise(atomState.p);\n      }\n    }\n\n    var nextAtomState = {\n      e: error,\n      r: (atomState == null ? void 0 : atomState.r) || 0,\n      d: createReadDependencies(version, atomState == null ? void 0 : atomState.d, dependencies)\n    };\n    setAtomState(version, atom, nextAtomState);\n    return nextAtomState;\n  };\n\n  var setAtomSuspensePromise = function setAtomSuspensePromise(version, atom, suspensePromise, dependencies) {\n    var atomState = getAtomState(version, atom);\n\n    if (atomState && 'p' in atomState) {\n      if (isEqualSuspensePromise(atomState.p, suspensePromise)) {\n        return atomState;\n      }\n\n      cancelSuspensePromise(atomState.p);\n    }\n\n    addSuspensePromiseToCache(version, atom, suspensePromise);\n    var nextAtomState = {\n      p: suspensePromise,\n      r: (atomState == null ? void 0 : atomState.r) || 0,\n      d: createReadDependencies(version, atomState == null ? void 0 : atomState.d, dependencies)\n    };\n    setAtomState(version, atom, nextAtomState);\n    return nextAtomState;\n  };\n\n  var setAtomPromiseOrValue = function setAtomPromiseOrValue(version, atom, promiseOrValue, dependencies) {\n    if (promiseOrValue instanceof Promise) {\n      var suspensePromise = createSuspensePromise(promiseOrValue.then(function (value) {\n        setAtomValue(version, atom, value, dependencies, suspensePromise);\n        flushPending(version);\n      }).catch(function (e) {\n        if (e instanceof Promise) {\n          if (isSuspensePromise(e)) {\n            return e.then(function () {\n              readAtomState(version, atom, true);\n            });\n          }\n\n          return e;\n        }\n\n        setAtomReadError(version, atom, e, dependencies, suspensePromise);\n        flushPending(version);\n      }));\n      return setAtomSuspensePromise(version, atom, suspensePromise, dependencies);\n    }\n\n    return setAtomValue(version, atom, promiseOrValue, dependencies);\n  };\n\n  var setAtomInvalidated = function setAtomInvalidated(version, atom) {\n    var atomState = getAtomState(version, atom);\n\n    if (atomState) {\n      var nextAtomState = _extends({}, atomState, {\n        i: atomState.r\n      });\n\n      setAtomState(version, atom, nextAtomState);\n    } else if (process.env.NODE_ENV !== \"production\") {\n      console.warn('[Bug] could not invalidate non existing atom', atom);\n    }\n  };\n\n  var readAtomState = function readAtomState(version, atom, force) {\n    if (!force) {\n      var _atomState2 = getAtomState(version, atom);\n\n      if (_atomState2) {\n        if (_atomState2.r !== _atomState2.i && 'p' in _atomState2 && !isSuspensePromiseAlreadyCancelled(_atomState2.p)) {\n          return _atomState2;\n        }\n\n        _atomState2.d.forEach(function (_, a) {\n          if (a !== atom) {\n            if (!mountedMap.has(a)) {\n              readAtomState(version, a);\n            } else {\n              var aState = getAtomState(version, a);\n\n              if (aState && aState.r === aState.i) {\n                readAtomState(version, a);\n              }\n            }\n          }\n        });\n\n        if (Array.from(_atomState2.d).every(function (_ref) {\n          var a = _ref[0],\n              r = _ref[1];\n          var aState = getAtomState(version, a);\n          return aState && 'v' in aState && aState.r === r;\n        })) {\n          return _atomState2;\n        }\n      }\n    }\n\n    var dependencies = new Set();\n\n    try {\n      var promiseOrValue = atom.read(function (a) {\n        dependencies.add(a);\n        var aState = a === atom ? getAtomState(version, a) : readAtomState(version, a);\n\n        if (aState) {\n          if ('e' in aState) {\n            throw aState.e;\n          }\n\n          if ('p' in aState) {\n            throw aState.p;\n          }\n\n          return aState.v;\n        }\n\n        if (hasInitialValue(a)) {\n          return a.init;\n        }\n\n        throw new Error('no atom init');\n      });\n      return setAtomPromiseOrValue(version, atom, promiseOrValue, dependencies);\n    } catch (errorOrPromise) {\n      if (errorOrPromise instanceof Promise) {\n        var suspensePromise = createSuspensePromise(errorOrPromise);\n        return setAtomSuspensePromise(version, atom, suspensePromise, dependencies);\n      }\n\n      return setAtomReadError(version, atom, errorOrPromise, dependencies);\n    }\n  };\n\n  var readAtom = function readAtom(readingAtom, version) {\n    var atomState = readAtomState(version, readingAtom);\n    return atomState;\n  };\n\n  var addAtom = function addAtom(addingAtom) {\n    var mounted = mountedMap.get(addingAtom);\n\n    if (!mounted) {\n      mounted = mountAtom(addingAtom);\n    }\n\n    return mounted;\n  };\n\n  var canUnmountAtom = function canUnmountAtom(atom, mounted) {\n    return !mounted.l.size && (!mounted.t.size || mounted.t.size === 1 && mounted.t.has(atom));\n  };\n\n  var delAtom = function delAtom(deletingAtom) {\n    var mounted = mountedMap.get(deletingAtom);\n\n    if (mounted && canUnmountAtom(deletingAtom, mounted)) {\n      unmountAtom(deletingAtom);\n    }\n  };\n\n  var invalidateDependents = function invalidateDependents(version, atom) {\n    var mounted = mountedMap.get(atom);\n    mounted == null ? void 0 : mounted.t.forEach(function (dependent) {\n      if (dependent !== atom) {\n        setAtomInvalidated(version, dependent);\n        invalidateDependents(version, dependent);\n      }\n    });\n  };\n\n  var writeAtomState = function writeAtomState(version, atom, update) {\n    var isSync = true;\n\n    var writeGetter = function writeGetter(a, options) {\n      var aState = readAtomState(version, a);\n\n      if ('e' in aState) {\n        throw aState.e;\n      }\n\n      if ('p' in aState) {\n        if (options != null && options.unstable_promise) {\n          return aState.p.then(function () {\n            return writeGetter(a, options);\n          });\n        }\n\n        if (process.env.NODE_ENV !== \"production\") {\n          console.info('Reading pending atom state in write operation. We throw a promise for now.', a);\n        }\n\n        throw aState.p;\n      }\n\n      if ('v' in aState) {\n        return aState.v;\n      }\n\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn('[Bug] no value found while reading atom in write operation. This is probably a bug.', a);\n      }\n\n      throw new Error('no value found');\n    };\n\n    var setter = function setter(a, v) {\n      var promiseOrVoid;\n\n      if (a === atom) {\n        if (!hasInitialValue(a)) {\n          throw new Error('atom not writable');\n        }\n\n        var versionSet = cancelAllSuspensePromiseInCache(a);\n        versionSet.forEach(function (cancelledVersion) {\n          if (cancelledVersion !== version) {\n            setAtomPromiseOrValue(cancelledVersion, a, v);\n          }\n        });\n        setAtomPromiseOrValue(version, a, v);\n        invalidateDependents(version, a);\n      } else {\n        promiseOrVoid = writeAtomState(version, a, v);\n      }\n\n      if (!isSync) {\n        flushPending(version);\n      }\n\n      return promiseOrVoid;\n    };\n\n    var promiseOrVoid = atom.write(writeGetter, setter, update);\n    isSync = false;\n    version = undefined;\n    return promiseOrVoid;\n  };\n\n  var writeAtom = function writeAtom(writingAtom, update, version) {\n    var promiseOrVoid = writeAtomState(version, writingAtom, update);\n    flushPending(version);\n    return promiseOrVoid;\n  };\n\n  var isActuallyWritableAtom = function isActuallyWritableAtom(atom) {\n    return !!atom.write;\n  };\n\n  var mountAtom = function mountAtom(atom, initialDependent) {\n    var mounted = {\n      t: new Set(initialDependent && [initialDependent]),\n      l: new Set()\n    };\n    mountedMap.set(atom, mounted);\n\n    if (process.env.NODE_ENV !== \"production\") {\n      mountedAtoms.add(atom);\n    }\n\n    var atomState = readAtomState(undefined, atom);\n    atomState.d.forEach(function (_, a) {\n      var aMounted = mountedMap.get(a);\n\n      if (aMounted) {\n        aMounted.t.add(atom);\n      } else {\n        if (a !== atom) {\n          mountAtom(a, atom);\n        }\n      }\n    });\n\n    if (isActuallyWritableAtom(atom) && atom.onMount) {\n      var setAtom = function setAtom(update) {\n        return writeAtom(atom, update);\n      };\n\n      var onUnmount = atom.onMount(setAtom);\n\n      if (onUnmount) {\n        mounted.u = onUnmount;\n      }\n    }\n\n    return mounted;\n  };\n\n  var unmountAtom = function unmountAtom(atom) {\n    var _mountedMap$get;\n\n    var onUnmount = (_mountedMap$get = mountedMap.get(atom)) == null ? void 0 : _mountedMap$get.u;\n\n    if (onUnmount) {\n      onUnmount();\n    }\n\n    mountedMap.delete(atom);\n\n    if (process.env.NODE_ENV !== \"production\") {\n      mountedAtoms.delete(atom);\n    }\n\n    var atomState = getAtomState(undefined, atom);\n\n    if (atomState) {\n      atomState.d.forEach(function (_, a) {\n        if (a !== atom) {\n          var mounted = mountedMap.get(a);\n\n          if (mounted) {\n            mounted.t.delete(atom);\n\n            if (canUnmountAtom(a, mounted)) {\n              unmountAtom(a);\n            }\n          }\n        }\n      });\n    } else if (process.env.NODE_ENV !== \"production\") {\n      console.warn('[Bug] could not find atom state to unmount', atom);\n    }\n  };\n\n  var mountDependencies = function mountDependencies(atom, atomState, prevReadDependencies) {\n    var dependencies = new Set(atomState.d.keys());\n    prevReadDependencies == null ? void 0 : prevReadDependencies.forEach(function (_, a) {\n      if (dependencies.has(a)) {\n        dependencies.delete(a);\n        return;\n      }\n\n      var mounted = mountedMap.get(a);\n\n      if (mounted) {\n        mounted.t.delete(atom);\n\n        if (canUnmountAtom(a, mounted)) {\n          unmountAtom(a);\n        }\n      }\n    });\n    dependencies.forEach(function (a) {\n      var mounted = mountedMap.get(a);\n\n      if (mounted) {\n        mounted.t.add(atom);\n      } else if (mountedMap.has(atom)) {\n        mountAtom(a, atom);\n      }\n    });\n  };\n\n  var flushPending = function flushPending(version) {\n    if (version) {\n      var versionedAtomStateMap = getVersionedAtomStateMap(version);\n      versionedAtomStateMap.forEach(function (atomState, atom) {\n        if (atomState !== committedAtomStateMap.get(atom)) {\n          var mounted = mountedMap.get(atom);\n          mounted == null ? void 0 : mounted.l.forEach(function (listener) {\n            return listener(version);\n          });\n        }\n      });\n      return;\n    }\n\n    while (pendingMap.size) {\n      var pending = Array.from(pendingMap);\n      pendingMap.clear();\n      pending.forEach(function (_ref2) {\n        var atom = _ref2[0],\n            prevAtomState = _ref2[1];\n        var atomState = getAtomState(undefined, atom);\n\n        if (atomState && atomState.d !== (prevAtomState == null ? void 0 : prevAtomState.d)) {\n          mountDependencies(atom, atomState, prevAtomState == null ? void 0 : prevAtomState.d);\n        }\n\n        var mounted = mountedMap.get(atom);\n        mounted == null ? void 0 : mounted.l.forEach(function (listener) {\n          return listener();\n        });\n      });\n    }\n\n    if (process.env.NODE_ENV !== \"production\") {\n      stateListeners.forEach(function (l) {\n        return l();\n      });\n    }\n  };\n\n  var commitVersionedAtomStateMap = function commitVersionedAtomStateMap(version) {\n    var versionedAtomStateMap = getVersionedAtomStateMap(version);\n    versionedAtomStateMap.forEach(function (atomState, atom) {\n      var prevAtomState = committedAtomStateMap.get(atom);\n\n      if (atomState.r > ((prevAtomState == null ? void 0 : prevAtomState.r) || 0) || 'v' in atomState && atomState.r === (prevAtomState == null ? void 0 : prevAtomState.r) && atomState.d !== (prevAtomState == null ? void 0 : prevAtomState.d)) {\n        committedAtomStateMap.set(atom, atomState);\n\n        if (atomState.d !== (prevAtomState == null ? void 0 : prevAtomState.d)) {\n          mountDependencies(atom, atomState, prevAtomState == null ? void 0 : prevAtomState.d);\n        }\n      }\n    });\n  };\n\n  var commitAtom = function commitAtom(_atom, version) {\n    if (version) {\n      commitVersionedAtomStateMap(version);\n    }\n\n    flushPending(undefined);\n  };\n\n  var subscribeAtom = function subscribeAtom(atom, callback) {\n    var mounted = addAtom(atom);\n    var listeners = mounted.l;\n    listeners.add(callback);\n    return function () {\n      listeners.delete(callback);\n      delAtom(atom);\n    };\n  };\n\n  var restoreAtoms = function restoreAtoms(values, version) {\n    for (var _iterator2 = _createForOfIteratorHelperLoose(values), _step2; !(_step2 = _iterator2()).done;) {\n      var _step2$value = _step2.value,\n          _atom2 = _step2$value[0],\n          _value = _step2$value[1];\n\n      if (hasInitialValue(_atom2)) {\n        setAtomPromiseOrValue(version, _atom2, _value);\n        invalidateDependents(version, _atom2);\n      }\n    }\n\n    flushPending(version);\n  };\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var _ref3;\n\n    return _ref3 = {}, _ref3[READ_ATOM] = readAtom, _ref3[WRITE_ATOM] = writeAtom, _ref3[COMMIT_ATOM] = commitAtom, _ref3[SUBSCRIBE_ATOM] = subscribeAtom, _ref3[RESTORE_ATOMS] = restoreAtoms, _ref3[DEV_SUBSCRIBE_STATE] = function (l) {\n      stateListeners.add(l);\n      return function () {\n        stateListeners.delete(l);\n      };\n    }, _ref3[DEV_GET_MOUNTED_ATOMS] = function () {\n      return mountedAtoms.values();\n    }, _ref3[DEV_GET_ATOM_STATE] = function (a) {\n      return committedAtomStateMap.get(a);\n    }, _ref3[DEV_GET_MOUNTED] = function (a) {\n      return mountedMap.get(a);\n    }, _ref3;\n  }\n\n  return _ref4 = {}, _ref4[READ_ATOM] = readAtom, _ref4[WRITE_ATOM] = writeAtom, _ref4[COMMIT_ATOM] = commitAtom, _ref4[SUBSCRIBE_ATOM] = subscribeAtom, _ref4[RESTORE_ATOMS] = restoreAtoms, _ref4;\n};\nvar createStoreForExport = function createStoreForExport(initialValues) {\n  var store = createStore(initialValues);\n\n  var get = function get(atom) {\n    var atomState = store[READ_ATOM](atom);\n\n    if ('e' in atomState) {\n      throw atomState.e;\n    }\n\n    if ('p' in atomState) {\n      return undefined;\n    }\n\n    return atomState.v;\n  };\n\n  var asyncGet = function asyncGet(atom) {\n    return new Promise(function (resolve, reject) {\n      var atomState = store[READ_ATOM](atom);\n\n      if ('e' in atomState) {\n        reject(atomState.e);\n      } else if ('p' in atomState) {\n        resolve(atomState.p.then(function () {\n          return asyncGet(atom);\n        }));\n      } else {\n        resolve(atomState.v);\n      }\n    });\n  };\n\n  var set = function set(atom, update) {\n    return store[WRITE_ATOM](atom, update);\n  };\n\n  var sub = function sub(atom, callback) {\n    return store[SUBSCRIBE_ATOM](atom, callback);\n  };\n\n  return {\n    get: get,\n    asyncGet: asyncGet,\n    set: set,\n    sub: sub,\n    SECRET_INTERNAL_store: store\n  };\n};\n\nvar createScopeContainer = function createScopeContainer(initialValues, unstable_createStore) {\n  var store = unstable_createStore ? unstable_createStore(initialValues).SECRET_INTERNAL_store : createStore(initialValues);\n  return {\n    s: store\n  };\n};\nvar ScopeContextMap = new Map();\nvar getScopeContext = function getScopeContext(scope) {\n  if (!ScopeContextMap.has(scope)) {\n    ScopeContextMap.set(scope, react.createContext(createScopeContainer()));\n  }\n\n  return ScopeContextMap.get(scope);\n};\n\nvar atomToPrintable = function atomToPrintable(atom) {\n  return atom.debugLabel || atom.toString();\n};\n\nvar stateToPrintable = function stateToPrintable(_ref) {\n  var store = _ref[0],\n      atoms = _ref[1];\n  return Object.fromEntries(atoms.flatMap(function (atom) {\n    var _store$DEV_GET_MOUNTE, _store$DEV_GET_ATOM_S;\n\n    var mounted = (_store$DEV_GET_MOUNTE = store[DEV_GET_MOUNTED]) == null ? void 0 : _store$DEV_GET_MOUNTE.call(store, atom);\n\n    if (!mounted) {\n      return [];\n    }\n\n    var dependents = mounted.t;\n    var atomState = ((_store$DEV_GET_ATOM_S = store[DEV_GET_ATOM_STATE]) == null ? void 0 : _store$DEV_GET_ATOM_S.call(store, atom)) || {};\n    return [[atomToPrintable(atom), _extends({}, 'e' in atomState && {\n      error: atomState.e\n    }, 'p' in atomState && {\n      promise: atomState.p\n    }, 'v' in atomState && {\n      value: atomState.v\n    }, {\n      dependents: Array.from(dependents).map(atomToPrintable)\n    })]];\n  }));\n};\n\nvar useDebugState = function useDebugState(scopeContainer) {\n  var store = scopeContainer.s;\n\n  var _useState = react.useState([]),\n      atoms = _useState[0],\n      setAtoms = _useState[1];\n\n  react.useEffect(function () {\n    var _store$DEV_SUBSCRIBE_;\n\n    var callback = function callback() {\n      var _store$DEV_GET_MOUNTE2;\n\n      setAtoms(Array.from(((_store$DEV_GET_MOUNTE2 = store[DEV_GET_MOUNTED_ATOMS]) == null ? void 0 : _store$DEV_GET_MOUNTE2.call(store)) || []));\n    };\n\n    var unsubscribe = (_store$DEV_SUBSCRIBE_ = store[DEV_SUBSCRIBE_STATE]) == null ? void 0 : _store$DEV_SUBSCRIBE_.call(store, callback);\n    callback();\n    return unsubscribe;\n  }, [store]);\n  react.useDebugValue([store, atoms], stateToPrintable);\n};\n\nvar Provider = function Provider(_ref) {\n  var children = _ref.children,\n      initialValues = _ref.initialValues,\n      scope = _ref.scope,\n      unstable_createStore = _ref.unstable_createStore,\n      unstable_enableVersionedWrite = _ref.unstable_enableVersionedWrite;\n\n  var _useState = react.useState(),\n      version = _useState[0],\n      setVersion = _useState[1];\n\n  react.useEffect(function () {\n    if (version) {\n      scopeContainerRef.current.s[COMMIT_ATOM](null, version);\n      delete version.p;\n    }\n  }, [version]);\n  var scopeContainerRef = react.useRef();\n\n  if (!scopeContainerRef.current) {\n    scopeContainerRef.current = createScopeContainer(initialValues, unstable_createStore);\n\n    if (unstable_enableVersionedWrite) {\n      scopeContainerRef.current.w = function (write) {\n        setVersion(function (parentVersion) {\n          var nextVersion = parentVersion ? {\n            p: parentVersion\n          } : {};\n          write(nextVersion);\n          return nextVersion;\n        });\n      };\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\" && !unstable_enableVersionedWrite) {\n    useDebugState(scopeContainerRef.current);\n  }\n\n  var ScopeContainerContext = getScopeContext(scope);\n  return react.createElement(ScopeContainerContext.Provider, {\n    value: scopeContainerRef.current\n  }, children);\n};\n\nvar keyCount = 0;\nfunction atom(read, write) {\n  var key = \"atom\" + ++keyCount;\n  var config = {\n    toString: function toString() {\n      return key;\n    }\n  };\n\n  if (typeof read === 'function') {\n    config.read = read;\n  } else {\n    config.init = read;\n\n    config.read = function (get) {\n      return get(config);\n    };\n\n    config.write = function (get, set, update) {\n      return set(config, typeof update === 'function' ? update(get(config)) : update);\n    };\n  }\n\n  if (write) {\n    config.write = write;\n  }\n\n  return config;\n}\n\nfunction useAtomValue(atom, scope) {\n  var ScopeContext = getScopeContext(scope);\n\n  var _useContext = react.useContext(ScopeContext),\n      store = _useContext.s;\n\n  var getAtomValue = react.useCallback(function (version) {\n    var atomState = store[READ_ATOM](atom, version);\n\n    if ('e' in atomState) {\n      throw atomState.e;\n    }\n\n    if ('p' in atomState) {\n      throw atomState.p;\n    }\n\n    if ('v' in atomState) {\n      return atomState.v;\n    }\n\n    throw new Error('no atom value');\n  }, [store, atom]);\n\n  var _useReducer = react.useReducer(react.useCallback(function (prev, nextVersion) {\n    var nextValue = getAtomValue(nextVersion);\n\n    if (Object.is(prev[1], nextValue) && prev[2] === atom) {\n      return prev;\n    }\n\n    return [nextVersion, nextValue, atom];\n  }, [getAtomValue, atom]), undefined, function () {\n    var initialVersion = undefined;\n    var initialValue = getAtomValue(initialVersion);\n    return [initialVersion, initialValue, atom];\n  }),\n      _useReducer$ = _useReducer[0],\n      version = _useReducer$[0],\n      value = _useReducer$[1],\n      atomFromUseReducer = _useReducer$[2],\n      rerenderIfChanged = _useReducer[1];\n\n  if (atomFromUseReducer !== atom) {\n    rerenderIfChanged(undefined);\n  }\n\n  react.useEffect(function () {\n    var unsubscribe = store[SUBSCRIBE_ATOM](atom, rerenderIfChanged);\n    rerenderIfChanged(undefined);\n    return unsubscribe;\n  }, [store, atom]);\n  react.useEffect(function () {\n    store[COMMIT_ATOM](atom, version);\n  });\n  react.useDebugValue(value);\n  return value;\n}\n\nfunction useSetAtom(atom, scope) {\n  var ScopeContext = getScopeContext(scope);\n\n  var _useContext = react.useContext(ScopeContext),\n      store = _useContext.s,\n      versionedWrite = _useContext.w;\n\n  var setAtom = react.useCallback(function (update) {\n    if (process.env.NODE_ENV !== \"production\" && !('write' in atom)) {\n      throw new Error('not writable atom');\n    }\n\n    var write = function write(version) {\n      return store[WRITE_ATOM](atom, update, version);\n    };\n\n    return versionedWrite ? versionedWrite(write) : write();\n  }, [store, versionedWrite, atom]);\n  return setAtom;\n}\n\nfunction useAtom(atom, scope) {\n  if ('scope' in atom) {\n    console.warn('atom.scope is deprecated. Please do useAtom(atom, scope) instead.');\n    scope = atom.scope;\n  }\n\n  return [useAtomValue(atom, scope), useSetAtom(atom, scope)];\n}\n\nexports.Provider = Provider;\nexports.SECRET_INTERNAL_getScopeContext = getScopeContext;\nexports.atom = atom;\nexports.unstable_createStore = createStoreForExport;\nexports.useAtom = useAtom;\nexports.useAtomValue = useAtomValue;\nexports.useSetAtom = useSetAtom;\n","import { useMemo } from 'react'\nimport { atom, useAtom } from 'jotai'\nimport Bifrost from './Bifrost'\nimport { RealmConfig } from './typings'\n\nconst realmStateAtom = atom({})\nconst realmPropsAtom = atom({})\n\nconst useBifrost = ({\n  config,\n  currentRealm\n}: {\n  config?: RealmConfig\n  currentRealm?: string\n}) => {\n  const realms = config?.realms ?? {}\n  const [realmsState, setRealmsState] = useAtom(realmStateAtom)\n  const [realmsProps, setRealmsProps] = useAtom(realmPropsAtom)\n\n  const openRealm = (realmName?: string) => {\n    const realm = realmName || currentRealm\n    if (realm) {\n      setRealmsState({\n        ...realmsState,\n        [realm]: {\n          ...(realmsState[realm] || {}),\n          open: true\n        }\n      })\n    } else {\n      console.error(\n        '‚ùóBifrost Error‚ùó openRealm failed üëâ currentRealm not set and realmName not passed'\n      )\n    }\n  }\n\n  const closeRealm = (realmName?: string) => {\n    const realm = realmName || currentRealm\n    if (realm) {\n      setRealmsState({\n        ...realmsState,\n        [realm]: {\n          ...(realmsState[realm] || {}),\n          open: false\n        }\n      })\n    } else {\n      console.error(\n        '‚ùóBifrost Error‚ùó closeRealm failed üëâ currentRealm not set and realmName not passed'\n      )\n    }\n  }\n\n  if (!window.Bifrost && config) {\n    window.Bifrost = new Bifrost(config)\n    window.Bifrost.bus.addEventListener('bifrost-open', ({ detail }: any) => {\n      const { name, state, props } = detail\n      if (state) {\n        setRealmsState({\n          ...realmsState,\n          [name]: state\n        })\n      }\n      if (props) {\n        console.log('Has props', props, name)\n        setRealmsProps({\n          ...realmsProps,\n          [name]: props\n        })\n      }\n      openRealm(name)\n    })\n    window.Bifrost.bus.addEventListener('bifrost-close', ({ detail }: any) => {\n      const { name } = detail\n      closeRealm(name)\n    })\n\n    window.Bifrost.bus.addEventListener('bifrost-update', ({ detail }: any) => {\n      const { name, props } = detail\n      console.log('Updating realm', name, props)\n      if (props) {\n        setRealmsProps({\n          ...realmsProps,\n          [name]: props\n        })\n      }\n    })\n  }\n\n  const currentRealmState = useMemo(\n    () => (currentRealm ? realmsState[currentRealm] : realmsState),\n    [realmsState]\n  )\n  const realmIsOpen = currentRealmState?.open ?? false\n  const realmList = Object.keys(realms)\n  const currentRealmProps = useMemo(\n    () => (currentRealm ? realmsProps[currentRealm] : realmsProps),\n    [realmsProps]\n  )\n\n  const t = (key: string) => {\n    return window.Bifrost.translate(key, currentRealm)\n  }\n\n  const BifrostContainer = ({ ...props }) => {\n    ;<div\n      style={{\n        position: 'absolute',\n        width: '100vw',\n        height: '100vh'\n      }}\n      {...props}\n    >\n      {realms}\n    </div>\n  }\n  return {\n    BifrostContainer,\n    realmList,\n    openRealm,\n    closeRealm,\n    state: currentRealm ? currentRealmState : realmsState,\n    props: currentRealm ? currentRealmProps : realmsProps,\n    setRealmsProps,\n    setRealmsState,\n    realmIsOpen,\n    t\n  }\n}\n\nexport default useBifrost\n"],"names":["get","obj","path","def","replace","join","split","filter","Boolean","every","step","undefined","Bifrost","config","locales","Object","keys","bus","document","createElement","setLocale","locale","console","error","info","openRealm","name","state","props","dispatchEvent","detail","updateRealm","closeRealm","addEventListener","event","callback","removeEventListener","args","CustomEvent","translate","key","scene","react","realmStateAtom","atom","realmPropsAtom","useBifrost","currentRealm","realms","useAtom","realmsState","setRealmsState","realmsProps","setRealmsProps","realmName","realm","open","window","log","currentRealmState","useMemo","realmIsOpen","realmList","currentRealmProps","t","BifrostContainer","position","width","height"],"mappings":"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"}